import router from '@ohos.router'
import ListChatItem, { ChatItemData } from '../../component/ListChatItem'
import WechatToolbar from '../../component/WechatToolbar'

@Preview
@Component
export default struct Home {
  @State chatList: ChatItemData[] = [
    {
      headSrc: $r("app.media.ic_user_head3"),
      nickname: "æ¸¸æˆå¥½å‹",
      content: "ğŸ˜’ğŸ˜’ğŸ˜’ğŸ˜’ğŸ˜’ğŸ˜’ğŸ˜’ğŸ˜’ğŸ˜’",
      time: "15:38"
    },
    { headSrc: $r("app.media.ic_user_head4"),
      nickname: "åŒäº‹è¢æƒ",
      content: "ç“¦ç½—å…°ç‰¹ä¸Šå·ï¼ï¼ï¼ï¼",
      time: "14:12"
    },
    { headSrc: $r("app.media.ic_user_head5"),
      nickname: "å°èµµ",
      content: "èµ¶ç´§æ¥ï¼Œå¹´è–ª100ä¸‡ï¼ï¼ï¼",
      time: "12:08"
    },
    { headSrc: $r("app.media.ic_user_head6"),
      nickname: "å¥½å‹è¢é€š",
      content: "åƒå•¥ï¼ï¼ï¼",
      time: "æ˜¨å¤©" },
    { headSrc: $r("app.media.ic_user_head7"),
      nickname: "å„¿å­æ¨ç‰æ¶µ",
      content: "å¥½çš„ï¼Œçˆ¸çˆ¸",
      time: "å‘¨ä¸€" }
  ]

  build() {
    Column() {
      WechatToolbar({ title: "å¾®ä¿¡(999)" })

      List() {
        ForEach(this.chatList, (item: ChatItemData, index: number) => {
          ListItem() {
            ListChatItem({ data: item })
          }
          .onClick(() => {
            router.pushUrl({ url: 'pages/chat/ChatPage',
              params: {name:item.nickname}
            })
          })
        })
        ListItem() {
          Divider().color('#0000').strokeWidth(0)
        }
      }
      .divider({ strokeWidth: 0.8, color: '#f0f0f0', startMargin: 90, endMargin: 0 }) // æ¯è¡Œä¹‹é—´çš„åˆ†ç•Œçº¿
      .backgroundColor(Color.White)
      .width("100%")
      .height("100%")

    }
    .width("100%")
    .height("100%")
    .backgroundColor("#f0f0f0")
  }
}
